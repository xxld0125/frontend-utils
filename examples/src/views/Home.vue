<template>
  <div class="container">
    <div class="card">
      <h1 class="card-title">Frontend Utils åŠŸèƒ½éªŒè¯å¹³å°</h1>
      <p style="font-size: 16px; line-height: 1.8; color: #6b7280; margin-bottom: 24px;">
        è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºéªŒè¯ <code>@frontendUtils/load-script</code> åŠŸèƒ½çš„å¯è§†åŒ–å¹³å°ï¼Œ
        æ‚¨å¯ä»¥é€šè¿‡ä¸åŒçš„æµ‹è¯•é¡µé¢éªŒè¯åŠ¨æ€åŠ è½½ã€æ²™ç®±éš”ç¦»ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚
      </p>

      <div class="grid grid-2">
        <!-- Load Script æµ‹è¯• -->
        <div class="card">
          <h2 class="card-title">ğŸš€ Load Script åŠ¨æ€åŠ è½½æµ‹è¯•</h2>
          <p style="margin-bottom: 16px; color: #6b7280;">
            æµ‹è¯• UMD è„šæœ¬çš„åŠ¨æ€åŠ è½½åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æµè¡Œçš„ JavaScript åº“ï¼š
          </p>
          <ul style="margin-bottom: 16px; padding-left: 20px; color: #6b7280;">
            <li>Lodash - å®ç”¨å·¥å…·åº“</li>
            <li>Day.js - æ—¥æœŸå¤„ç†åº“</li>
            <li>Chart.js - å›¾è¡¨åº“</li>
            <li>Vue 3 - æ¡†æ¶åº“</li>
          </ul>
          <router-link to="/load-script" class="btn btn-primary">
            å¼€å§‹æµ‹è¯• â†’
          </router-link>
        </div>

        <!-- æ²™ç®±éš”ç¦»æµ‹è¯• -->
        <div class="card">
          <h2 class="card-title">ğŸ›¡ï¸ æ²™ç®±éš”ç¦»æµ‹è¯•</h2>
          <p style="margin-bottom: 16px; color: #6b7280;">
            éªŒè¯æ²™ç®±éš”ç¦»æœºåˆ¶çš„æœ‰æ•ˆæ€§ï¼Œç¡®ä¿è„šæœ¬æ‰§è¡Œä¸ä¼šæ±¡æŸ“å…¨å±€ç¯å¢ƒï¼š
          </p>
          <ul style="margin-bottom: 16px; padding-left: 20px; color: #6b7280;">
            <li>å…¨å±€å˜é‡éš”ç¦»</li>
            <li>å‡½æ•°ç»‘å®šæµ‹è¯•</li>
            <li>ç¯å¢ƒå˜é‡ç›‘æ§</li>
            <li>å†²çªé¿å…éªŒè¯</li>
          </ul>
          <router-link to="/sandbox" class="btn btn-success">
            æ²™ç®±æµ‹è¯• â†’
          </router-link>
        </div>
      </div>

      <!-- æ€§èƒ½æµ‹è¯• -->
      <div class="card">
        <h2 class="card-title">âš¡ æ€§èƒ½æµ‹è¯•</h2>
        <p style="margin-bottom: 16px; color: #6b7280;">
          æµ‹è¯•è„šæœ¬åŠ è½½æ€§èƒ½ã€ç¼“å­˜æœºåˆ¶å’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼š
        </p>
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
          <span style="background: #e5f3ff; color: #0066cc; padding: 4px 8px; border-radius: 4px; font-size: 14px;">åŠ è½½æ—¶é—´æµ‹è¯•</span>
          <span style="background: #f0f9e8; color: #22c55e; padding: 4px 8px; border-radius: 4px; font-size: 14px;">ç¼“å­˜æ•ˆæœéªŒè¯</span>
          <span style="background: #fef3e2; color: #f59e0b; padding: 4px 8px; border-radius: 4px; font-size: 14px;">å†…å­˜å ç”¨ç›‘æ§</span>
        </div>
        <div style="margin-top: 16px;">
          <router-link to="/performance" class="btn btn-warning">
            æ€§èƒ½æµ‹è¯• â†’
          </router-link>
        </div>
      </div>

      <!-- CDN Core æµ‹è¯• -->
      <div class="card">
        <h2 class="card-title">ğŸš€ CDN Core æ ¸å¿ƒæµ‹è¯•</h2>
        <p style="margin-bottom: 16px; color: #6b7280;">
          æµ‹è¯• CDN æ ¸å¿ƒåŠŸèƒ½åŒ…çš„é«˜çº§ç‰¹æ€§ï¼ŒåŒ…æ‹¬é…ç½®ç®¡ç†ã€ç½‘ç»œè¯·æ±‚å’Œé‡è¯•æœºåˆ¶ï¼š
        </p>
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
          <span style="background: #f3e8ff; color: #8b5cf6; padding: 4px 8px; border-radius: 4px; font-size: 14px;">é…ç½®ç®¡ç†</span>
          <span style="background: #ecfdf5; color: #059669; padding: 4px 8px; border-radius: 4px; font-size: 14px;">ç½‘ç»œè¯·æ±‚</span>
          <span style="background: #fef2f2; color: #dc2626; padding: 4px 8px; border-radius: 4px; font-size: 14px;">é‡è¯•æœºåˆ¶</span>
          <span style="background: #f0f9ff; color: #2563eb; padding: 4px 8px; border-radius: 4px; font-size: 14px;">é”™è¯¯å¤„ç†</span>
        </div>
        <div style="margin-top: 16px;">
          <router-link to="/cdn-core" class="btn btn-primary">
            CDN Core æµ‹è¯• â†’
          </router-link>
        </div>
      </div>

      <!-- CDN Vue2 æµ‹è¯• -->
      <div class="card">
        <h2 class="card-title">ğŸ¯ CDN Vue2 ç»„ä»¶æµ‹è¯•</h2>
        <p style="margin-bottom: 16px; color: #6b7280;">
          æµ‹è¯• Vue 2 åŠ¨æ€ç»„ä»¶åŠ è½½åŠŸèƒ½ï¼ŒéªŒè¯è¿œç¨‹Vueç»„ä»¶çš„åŠ è½½ã€æ¸²æŸ“å’Œäº¤äº’ï¼š
        </p>
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
          <span style="background: #e7f5e7; color: #2d5f2d; padding: 4px 8px; border-radius: 4px; font-size: 14px;">ç»„ä»¶åŠ è½½</span>
          <span style="background: #fff7ed; color: #c2410c; padding: 4px 8px; border-radius: 4px; font-size: 14px;">å±æ€§ä¼ é€’</span>
          <span style="background: #fef3f2; color: #991b1b; padding: 4px 8px; border-radius: 4px; font-size: 14px;">äº‹ä»¶å¤„ç†</span>
          <span style="background: #f0f4ff; color: #3730a3; padding: 4px 8px; border-radius: 4px; font-size: 14px;">ç”Ÿå‘½å‘¨æœŸ</span>
        </div>
        <div style="margin-top: 16px;">
          <router-link to="/cdn-vue2" class="btn btn-success">
            CDN Vue2 æµ‹è¯• â†’
          </router-link>
        </div>
      </div>

      <!-- Ext Core æµ‹è¯• -->
      <div class="card">
        <h2 class="card-title">ğŸ”Œ Ext Core æ‰©å±•ç‚¹æµ‹è¯•</h2>
        <p style="margin-bottom: 16px; color: #6b7280;">
          æµ‹è¯•å‰ç«¯æ‰©å±•ç‚¹æ ¸å¿ƒåº“åŠŸèƒ½ï¼ŒåŒ…æ‹¬åŠ¨æ€æ‰©å±•ç‚¹ç®¡ç†ã€æ¡ä»¶åŒ¹é…å’Œæ™ºèƒ½ç¼“å­˜ï¼š
        </p>
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
          <span style="background: #f3e8ff; color: #7c3aed; padding: 4px 8px; border-radius: 4px; font-size: 14px;">æ‰©å±•ç‚¹ç®¡ç†</span>
          <span style="background: #ecfdf5; color: #047857; padding: 4px 8px; border-radius: 4px; font-size: 14px;">æ¡ä»¶åŒ¹é…</span>
          <span style="background: #fef3f2; color: #dc2626; padding: 4px 8px; border-radius: 4px; font-size: 14px;">é”™è¯¯å¤„ç†</span>
          <span style="background: #f0f9ff; color: #1d4ed8; padding: 4px 8px; border-radius: 4px; font-size: 14px;">æ™ºèƒ½ç¼“å­˜</span>
        </div>
        <div style="margin-top: 16px;">
          <router-link to="/ext-core" class="btn btn-primary">
            Ext Core æµ‹è¯• â†’
          </router-link>
        </div>
      </div>
    </div>

    <!-- æ ¸å¿ƒç‰¹æ€§ä»‹ç» -->
    <div class="card">
      <h2 class="card-title">ğŸ¯ æ ¸å¿ƒç‰¹æ€§</h2>
      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ” æ²™ç®±éš”ç¦»</h3>
          <p style="color: #6b7280; font-size: 14px;">
            åŸºäº Proxy çš„å®Œæ•´æ²™ç®±æœºåˆ¶ï¼Œç¡®ä¿è„šæœ¬åœ¨å®‰å…¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡Œ
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ“¦ UMD æ”¯æŒ</h3>
          <p style="color: #6b7280; font-size: 14px;">
            ä¸“é—¨æ”¯æŒ UMD æ ¼å¼è„šæœ¬ï¼Œå…¼å®¹ CommonJSã€AMD å’Œæµè§ˆå™¨å…¨å±€å˜é‡
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">âš¡ æ™ºèƒ½ç¼“å­˜</h3>
          <p style="color: #6b7280; font-size: 14px;">
            é¿å…é‡å¤åŠ è½½ç›¸åŒè„šæœ¬ï¼Œæå‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ”§ å‡½æ•°ç»‘å®š</h3>
          <p style="color: #6b7280; font-size: 14px;">
            è‡ªåŠ¨å¤„ç†å‡½æ•°ä¸Šä¸‹æ–‡ç»‘å®šï¼Œç¡®ä¿æ­£ç¡®çš„æ‰§è¡Œç¯å¢ƒ
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸŒ ç½‘ç»œè¯·æ±‚</h3>
          <p style="color: #6b7280; font-size: 14px;">
            æä¾› GET/POST è¯·æ±‚å’Œè¿œç¨‹å†…å®¹è·å–åŠŸèƒ½ï¼Œæ”¯æŒå‚æ•°ä¼ é€’
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ”„ æ™ºèƒ½é‡è¯•</h3>
          <p style="color: #6b7280; font-size: 14px;">
            å†…ç½®å¤šçº§é‡è¯•æœºåˆ¶ï¼Œè‡ªåŠ¨å¤„ç†ç½‘ç»œå¼‚å¸¸å’Œä¸´æ—¶å¤±è´¥
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ¯ Vue2 ç»„ä»¶</h3>
          <p style="color: #6b7280; font-size: 14px;">
            ä¸“ä¸ºVue 2è®¾è®¡çš„åŠ¨æ€ç»„ä»¶åŠ è½½å™¨ï¼Œæ”¯æŒå±æ€§ä¼ é€’å’Œäº‹ä»¶ç»‘å®š
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ”§ é…ç½®çµæ´»</h3>
          <p style="color: #6b7280; font-size: 14px;">
            æ”¯æŒè‡ªå®šä¹‰åŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†å’Œå…¨å±€é…ç½®ç®¡ç†
          </p>
        </div>
        <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
          <h3 style="color: #1f2937; margin-bottom: 8px;">ğŸ”Œ æ‰©å±•ç‚¹ç³»ç»Ÿ</h3>
          <p style="color: #6b7280; font-size: 14px;">
            åŠ¨æ€æ‰©å±•ç‚¹ç®¡ç†ï¼Œæ”¯æŒæ¡ä»¶åŒ¹é…ã€è¿œç¨‹åŠ è½½å’Œæ™ºèƒ½ç¼“å­˜
          </p>
        </div>
      </div>
    </div>

    <!-- ä½¿ç”¨æŒ‡å— -->
    <div class="card">
      <h2 class="card-title">ğŸ“– ä½¿ç”¨æŒ‡å—</h2>
      <div class="grid grid-2">
        <div>
          <h3 style="margin-bottom: 12px;">Load Script åŸºç¡€ç”¨æ³•</h3>
          <div class="code-block">
// åŸºæœ¬ç”¨æ³•
import { loadScript } from '@frontendUtils/load-script'

// åŠ è½½ Lodash
const _ = await loadScript('https://unpkg.com/lodash@4.17.21/lodash.min.js')
console.log(_.chunk([1, 2, 3, 4, 5, 6], 2)) // [[1, 2], [3, 4], [5, 6]]

// åŠ è½½ Day.js
const dayjs = await loadScript('https://unpkg.com/dayjs@1.11.10/dayjs.min.js')
console.log(dayjs().format('YYYY-MM-DD'))
          </div>
        </div>
        <div>
          <h3 style="margin-bottom: 12px;">CDN Core é«˜çº§ç”¨æ³•</h3>
          <div class="code-block">
// CDN Core ç”¨æ³•
import { loadScript, setCdnConfig, getData } from '@frontendUtils/cdn-core'

// é…ç½® CDN åŸºç¡€è·¯å¾„
setCdnConfig({
  baseURL: 'https://unpkg.com',
  errorHandler: (error) => console.error('CDN é”™è¯¯:', error)
})

// åŸºäºé…ç½®åŠ è½½è„šæœ¬
const _ = await loadScript('/lodash@4.17.21/lodash.min.js')

// ç½‘ç»œè¯·æ±‚
const data = await getData('https://api.example.com/data')
          </div>
        </div>
      </div>

      <div class="grid grid-2">
        <div>
          <h3 style="margin-bottom: 12px;">CDN Vue2 ç»„ä»¶ç”¨æ³•</h3>
          <div class="code-block">
// Vue 2 é¡¹ç›®ä¸­ä½¿ç”¨
import { CdnComponent, startCdnComponent } from '@frontendUtils/cdn-vue2'

// å…¨å±€é…ç½®
startCdnComponent({
  baseURL: 'https://unpkg.com',
  errorFallback: 'ç»„ä»¶åŠ è½½å¤±è´¥',
  loadingFallback: 'æ­£åœ¨åŠ è½½ç»„ä»¶...'
})

// æ³¨å†Œå…¨å±€ç»„ä»¶
Vue.component('CdnComponent', CdnComponent)
          </div>
        </div>
        <div>
          <h3 style="margin-bottom: 12px;">Vue æ¨¡æ¿ä¸­ä½¿ç”¨</h3>
          <div class="code-block">
&lt;template&gt;
  &lt;div&gt;
    &lt;!-- åŠ¨æ€åŠ è½½è¿œç¨‹ç»„ä»¶ --&gt;
    &lt;CdnComponent
      url="/my-component@1.0.0/dist/component.umd.js"
      export-name="MyComponent"
      :com-props="{ title: 'åŠ¨æ€ç»„ä»¶', data: userData }"
      :com-events="{ click: handleClick, change: handleChange }"
      @loading="onLoading"
      @error="onError"
    &gt;
      &lt;!-- é»˜è®¤æ’æ§½å†…å®¹ --&gt;
      &lt;div&gt;ç»„ä»¶å†…å®¹&lt;/div&gt;
    &lt;/CdnComponent&gt;
  &lt;/div&gt;
&lt;/template&gt;
          </div>
        </div>
      </div>

      <div class="grid grid-2">
        <div>
          <h3 style="margin-bottom: 12px;">Ext Core æ‰©å±•ç‚¹ç”¨æ³•</h3>
          <div class="code-block">
// åˆå§‹åŒ–æ‰©å±•ç‚¹ç³»ç»Ÿ
import { startExtCore } from '@frontendUtils/ext-core'

startExtCore({
  appGroup: 'your-app-group',
  appName: 'your-app-name',
  devUseTestApi: true,
  errorHandler: console.error
})

// é…ç½®ç¯å¢ƒå˜é‡
window.ENVIRONMENT_EXT = {
  env: 'dev',
  'ares-ext': 'https://api.example.com/ext',
  'jarvis-node-id': 'your-node-id'
}
          </div>
        </div>
        <div>
          <h3 style="margin-bottom: 12px;">åˆ›å»ºå’Œä½¿ç”¨æ‰©å±•ç‚¹</h3>
          <div class="code-block">
// åˆ›å»ºæ‰©å±•ç‚¹
import { extJs } from '@frontendUtils/ext-core'

const dataProcessor = extJs({
  name: 'data-processor',
  checker: conditions => conditions.userRole === 'admin',
  blockOnError: false,
  exportName: 'processData',
  originFn: data => ({ ...data, processed: true })
})

// ä½¿ç”¨æ‰©å±•ç‚¹
const result = await dataProcessor({ id: 1, name: 'test' })
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
// é¦–é¡µä¸éœ€è¦ç‰¹æ®Šé€»è¾‘
</script>
